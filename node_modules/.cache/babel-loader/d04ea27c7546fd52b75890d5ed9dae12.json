{"ast":null,"code":"var _jsxFileName = \"/Users/mariamipukhashvili/Desktop/React/countries/src/components/filtercountry/FilterCountry.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useReducer, useState } from \"react\";\nimport { BsChevronDown, BsChevronUp } from \"react-icons/bs\";\nimport { debounce } from \"../../helpers/debounce\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SET_COUNTRIES = \"SET_COUNTRIES\";\nconst SET_FILTER = \"SET_FILTER\";\nconst CLEAR_FILTER = \"CLEAR_FILTER\";\nconst initialState = {\n  countries: [],\n  oldcountries: [],\n  filters: null,\n  empty: false\n};\n\nconst countriesReducer = (state, action) => {\n  switch (action.type) {\n    case SET_COUNTRIES:\n      return { ...state,\n        countries: action.payload,\n        oldcountries: [...action.payload]\n      };\n\n    case SET_FILTER:\n      // eslint-disable-next-line\n      const data = state.countries.filter(item => item.name.toLowerCase().includes(action.payload.toLowerCase()));\n\n      if (data.length === 0) {\n        state.empty = true;\n      }\n\n      return { ...state,\n        filter: action.payload,\n        countries: data\n      };\n\n    case CLEAR_FILTER:\n      return { ...state,\n        filter: null,\n        countries: [...state.countries],\n        empty: false\n      };\n\n    default:\n      throw new Error(\"\");\n  }\n};\n\nfunction FilterCountry({\n  countrydata\n}) {\n  _s();\n\n  const [state, dispatch] = useReducer(countriesReducer, initialState);\n  const [show, SetShow] = useState(false);\n  const ComponentName = !show ? BsChevronDown : BsChevronUp; //  const [countries, setCountries]=useState(countrydata);\n  //state.countries=countrydata;\n\n  const loadCountries = useCallback(async () => {\n    const countrylist = countrydata;\n    dispatch({\n      type: SET_COUNTRIES,\n      payload: countrylist\n    });\n  }, []);\n  const onSearch = debounce(({\n    target\n  }) => {\n    if (target.value.length > 3) {\n      const timer = setTimeout(() => {\n        dispatch({\n          type: SET_FILTER,\n          payload: target.value\n        }); // setLoading(false);\n      }, 1000);\n      return () => {\n        clearTimeout(timer);\n      };\n    } else {\n      if (state.filter) {\n        dispatch({\n          type: CLEAR_FILTER\n        });\n      }\n    }\n  });\n  console.log(state.countries);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-12 text-start p-2 mb-3\",\n    children: [\"Searc Country \", /*#__PURE__*/_jsxDEV(ComponentName, {\n      onClick: () => {\n        SetShow(prev => !prev);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: show ? 'd-block' : 'd-none \"',\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"search\",\n        className: \"mt-3 form-control\",\n        placeholder: \"start typing...\",\n        name: \"searchTerm\",\n        onKeyUp: onSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FilterCountry, \"pDEUnK3CO6GJkepUI8n2AkQuXS0=\");\n\n_c = FilterCountry;\nexport default FilterCountry;\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterCountry\");","map":{"version":3,"sources":["/Users/mariamipukhashvili/Desktop/React/countries/src/components/filtercountry/FilterCountry.js"],"names":["useCallback","useReducer","useState","BsChevronDown","BsChevronUp","debounce","SET_COUNTRIES","SET_FILTER","CLEAR_FILTER","initialState","countries","oldcountries","filters","empty","countriesReducer","state","action","type","payload","data","filter","item","name","toLowerCase","includes","length","Error","FilterCountry","countrydata","dispatch","show","SetShow","ComponentName","loadCountries","countrylist","onSearch","target","value","timer","setTimeout","clearTimeout","console","log","prev"],"mappings":"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","sourcesContent":["import { useCallback,useReducer, useState } from \"react\";\nimport { BsChevronDown , BsChevronUp} from \"react-icons/bs\";\nimport { debounce } from \"../../helpers/debounce\";\n\nconst SET_COUNTRIES = \"SET_COUNTRIES\";\nconst SET_FILTER = \"SET_FILTER\";\nconst CLEAR_FILTER = \"CLEAR_FILTER\";\n\nconst initialState = {\n\tcountries: [],\n\toldcountries: [],\n\tfilters: null,\n\tempty: false,\n};\n\nconst countriesReducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase SET_COUNTRIES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcountries: action.payload,\n\t\t\t\toldcountries: [...action.payload],\n\t\t\t};\n\t\tcase SET_FILTER:\n\t\t\t// eslint-disable-next-line\n\t\t\tconst data = state.countries.filter((item) =>\n          \n\t\t\t\titem.name.toLowerCase().includes(action.payload.toLowerCase())\n\t\t\t);\n           \n\t\t\tif (data.length === 0) {\n\t\t\t\tstate.empty = true;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfilter: action.payload,\n\t\t\t\tcountries: data,\n\t\t\t};\n\t\tcase CLEAR_FILTER:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfilter: null,\n\t\t\t\tcountries: [...state.countries],\n\t\t\t\tempty: false,\n\t\t\t};\n\n\t\tdefault:\n\t\t\tthrow new Error(\"\");\n\t}\n};\n\n\n\nfunction FilterCountry({countrydata}){\n    const [state, dispatch] = useReducer(countriesReducer, initialState);\n    const [show, SetShow] = useState(false);\n    const ComponentName=!show? BsChevronDown:BsChevronUp;\n    //  const [countries, setCountries]=useState(countrydata);\n    //state.countries=countrydata;\n\n\n    const loadCountries = useCallback(async () => {\n\t\tconst countrylist = countrydata;\n\n\t\tdispatch({\n\t\t\ttype: SET_COUNTRIES,\n\t\t\tpayload: countrylist,\n\t\t});\n\t}, []);\n\n    const onSearch =  debounce(({ target })=>{\n        if (target.value.length > 3) {\n    \n                const timer = setTimeout(() => {\n                    dispatch({\n                        type: SET_FILTER,\n                        payload: target.value,\n                    });\n            \n                   // setLoading(false);\n                }, 1000);\n                return () => {\n                    clearTimeout(timer);\n                };\n            } else {\n                if (state.filter) {\n                    dispatch({\n                        type: CLEAR_FILTER,\n                    });\n                }\n            }\n    });\n    console.log(state.countries)\n    return (\n        <div className=\"col-12 text-start p-2 mb-3\">\n\n            Searc Country <ComponentName onClick={() => {\n             SetShow((prev)=>!prev);\n            }}/>\n             \n               <div className={show ? 'd-block':'d-none \"' } >\n\t\t\t\t\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tclassName=\"mt-3 form-control\"\n\t\t\t\t\t\tplaceholder=\"start typing...\"\n\t\t\t\t\t\tname=\"searchTerm\"\n                         onKeyUp={onSearch}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n        </div>\n    )\n\n   \n} export default FilterCountry;"]},"metadata":{},"sourceType":"module"}